"0","assess_overlap <- function(data, treat, cov, odds = TRUE, num.trees = NULL, seed = 1234, breaks = 50, xlim = NULL, ylim = NULL) {"
"0","  if(is.null(num.trees))"
"0","  {"
"0","    p.forest1 <- probability_forest(X = data[, cov],"
"0","                                    Y = as.factor(data[,treat]), seed = seed)"
"0","  }"
"0","  else"
"0","  {"
"0","    p.forest1 <- probability_forest(X = data[, cov],"
"0","                                    Y = as.factor(data[,treat]), seed = seed, num.trees = num.trees)"
"0","  }"
"0","  data$ps_assoverlap <- p.forest1$predictions[,2]"
"0","  #range(lcps.plus$ps)"
"0","  data$ps_assoverlap[which(abs(data$ps_assoverlap) <= 1e-7)] <- 1e-7"
"0","  #range(lcps.plus$ps)"
"0","  if(odds == TRUE)"
"0","  {"
"0","    plot_hist(data, ""ps_assoverlap"", treat, odds = TRUE, breaks = breaks,"
"0","          density = TRUE, main = """", xlim = xlim, ylim = ylim)"
"0","  }"
"0","  else"
"0","  {"
"0","    plot_hist(data, ""ps_assoverlap"", treat, odds = FALSE, breaks = breaks,"
"0","              density = TRUE, main = """", xlim = c(0, 1), ylim = ylim)"
"0","  }"
"0","  return(data)"
"0","}"
